import { MdxImage } from "@/components/MdxImage";
import ActionCalculateOperators from "./images/action-calculate-operators.webp";
import ActionCalculateValue from "./images/action-calculate-value.webp";
import ActionCalculateVariables from "./images/action-calculate-variables.webp";
import ActionCalculate from "./images/action-calculate.webp";
import ActionJump from "./images/action-jump.webp";
import ActionOptions from "./images/action-options.webp";
import ActionRequire from "./images/action-require.webp";
import AddLogic from "./images/add-logic.webp";
import ConditionChaining from "./images/condition-chaining.webp";
import ConditionOperators from "./images/condition-operators.webp";
import ConditionOptions from "./images/condition-options.webp";
import ConditionValue from "./images/condition-value.webp";
import Conditions from "./images/conditions.webp";
import Editor from "./images/editor.webp";
import QuestionLogic from "./images/question-logic.webp";

export const metadata = {
  title: "Conditional Logic",
  description:
    "Create complex survey logic with the Logic Editor. Use conditions, actions, and variables to create a personalized survey experience.",
};

# Logic Editor

Create complex survey logic with the Logic Editor. Use conditions, actions, and variables to create a personalized survey experience.

<MdxImage src={Editor} alt="Logic Editor" quality="100" className="max-w-full rounded-lg sm:max-w-3xl" />

## Terminology

- **Condition**: A rule that determines when an action should be executed.
- **Action**: A task that is executed when a condition is met.

## **Creating Logic**

1. **Add a Logic Block**: Click the `Add logic +` button to add a new logic block.

<MdxImage src={AddLogic} alt="Add Logic" quality="100" className="max-w-full rounded-lg sm:max-w-3xl" />
<Note>
  You can add multiple logic blocks to a survey. Logic blocks are executed in the order they are added. You
  can rearrange the order of logic blocks.
</Note>

2. **Add Conditions**: Add conditions to the logic block. Conditions are rules that determine when an action should be executed.

<MdxImage
  src={Conditions}
  alt="Add Conditions"
  quality="100"
  className="max-w-full rounded-lg sm:max-w-3xl"
/>

Conditions can be based on:

- **Question**: The answer to a question.
- **Variable**: A variable value.
- **Hidden Field**: The value of a hidden field.

  2.a **Condition Options**: Choose from a list of available conditions.

  <MdxImage
    src={ConditionOptions}
    alt="Condition Options"
    quality="100"
    className="max-w-full rounded-lg sm:max-w-3xl"
  />

  2.b **Condition Operators**: Choose an operator to compare the condition value.

  <MdxImage
    src={ConditionOperators}
    alt="Condition Operators"
    quality="100"
    className="max-w-full rounded-lg sm:max-w-3xl"
  />

  2.c **Condition Value**: Enter a value to compare the condition against.
  Comparisons can be made against a fixed value or a dynamic value.
  Dynamic values can be based on a question, variable, or hidden field.

  <MdxImage
    src={ConditionValue}
    alt="Condition Value"
    quality="100"
    className="max-w-full rounded-lg sm:max-w-3xl"
  />

<Note>
  - Conditions can be grouped. - Conditions can be combined using AND or OR operators. You can add multiple
  conditions to a logic block. Conditions are evaluated in the order they are added.
</Note>

<MdxImage
  src={ConditionChaining}
  alt="Condition Chaining"
  quality="100"
  className="max-w-full rounded-lg sm:max-w-3xl"
/>

3. **Add Actions**: Add actions to the logic block. Actions are tasks that are executed when a condition is met.

<Note>You can add multiple actions to a logic block. Actions are executed in the order they are added.</Note>

- 3.a **Action Options**: Choose from a list of available actions.

  <MdxImage
    src={ActionOptions}
    alt="Add Actions"
    quality="100"
    className="max-w-full rounded-lg sm:max-w-3xl"
  />

  Action is of the following types:

  - **Calculate**: Perform a calculation. These variables are then available for use in other questions.

    - Calculations can be performed on variables.
    - Calculations can be based on fixed values or dynamic values.
      <MdxImage
        src={ActionCalculateVariables}
        alt="Action Calculate Variables"
        quality="100"
        className="max-w-full rounded-lg sm:max-w-3xl"
      />
      <MdxImage
        src={ActionCalculateOperators}
        alt="Action Calculate Variables"
        quality="100"
        className="max-w-full rounded-lg sm:max-w-3xl"
      />
      <MdxImage
        src={ActionCalculateValue}
        alt="Action Calculate Variables"
        quality="100"
        className="max-w-full rounded-lg sm:max-w-3xl"
      />
      <MdxImage
        src={ActionCalculate}
        alt="Action Calculate"
        quality="100"
        className="max-w-full rounded-lg sm:max-w-3xl"
      />

  - **Require Answer**: Make a question required. Only the optional questions can be marked as required while filling the survey.
    <MdxImage
      src={ActionRequire}
      alt="Action Require"
      quality="100"
      className="max-w-full rounded-lg sm:max-w-3xl"
    />
  - **Jump to Question**: Skip to a specific question. The user will be redirected to the specified question based on the condition.
    <MdxImage
      src={ActionJump}
      alt="Action Jump"
      quality="100"
      className="max-w-full rounded-lg sm:max-w-3xl"
    />

4. **Save Logic**: Click the `Save` button to save the logic block.

## **Setting Variables Based on Previous Answers**

In addition to standard conditions and actions, you can set variables dynamically based on previous answers. This can be useful for personalizing the survey experience and calculating results in real-time.

To set a variable:

1. **Select Action Type**: Choose the **Set Variable** action type.

2. **Choose Variable**: Select the variable you want to set from the list of available variables.

3. **Define the Value**: Assign a value to the variable. This value can be based on previous answers, a fixed value, or a calculation.

4. **Use Dynamic Values**: For dynamic assignments, you can refer to answers from previous questions, variables, or hidden fields to populate the value.

Example:
```mdx
- **Set Variable**: `userAge` based on the answer to the `Age` question.
